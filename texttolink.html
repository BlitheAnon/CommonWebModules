<!DOCTYPE html>
<!-- H5标准网页声明，声明不是 HTML 标签；它是指示 web 浏览器关于页面使用哪个 HTML 版本进行编写的指令。 -->
<!-- 页面中存在id=jsContainer的DOM元素。
该DOM元素内会给出一段随机文本，可能包含一些链接，比如https://www.baidu.com，或者 www.baidu.com?from=onlineExam，如果出现链接文本，请给该链接文本加上链接标签，用户点击后能直接在新窗口中打开该链接。
请完成 link 函数，完成该功能
1、container只有纯文本内容，不包含其他dom元素
2、识别所有以http://、https://或者www.开始的链接
3、所有www.开头的链接，默认使用 http 协议
4、所有链接在新窗口打开 -->
<html>

<head>
    <title>链接文本转链接标签</title>

</head>

<body>
    <div class="" id="jsContainer">
        www.baidu.com
        <!-- www.baidu.com?from=onlineExam
            https://www.baidu.com -->
    </div>



</body>

<script type="text/javascript">
    window.onload = function() {

        function link() {
            var containerEle = document.getElementById('jsContainer')

            var text = containerEle.innerText;
            //替换www开头为http://www开头
            if ((new RegExp("^www.").test(text))) {
                text = "http://" + text;
            }

            //正则表达式，识别http,https开头和www开头
            var reg = new RegExp("(https:\/\/|http:\/\/)?www.[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]", "g")
            var newText = text.replace(reg, function(item) {
                return "<a href=" + item + " target='_blank'>" + item + "</a>"
            })

            containerEle.innerHTML = newText;
        }

        // function link(){
        //     var jsContainer = document.getElementById('jsContainer');
        //     var content = jsContainer.innerHTML;
        //     var reg = /((http:\/\/)|(https:\/\/))?www\.[\w=\?&\.#]+/g;
        //     var newContent = content.replace(reg, function($, $1, $2) {
        //         var url = '';
        //         if ($1 || $2) {
        //             url = $;
        //         } else {
        //             url = 'http://' + $;
        //         }
        //         return '<a href="' + url + '" target="_blank">' + $ + '</a>'
        //
        //     });
        //     jsContainer.innerHTML = newContent;
        // }

        link();


    }
</script>

</html>
